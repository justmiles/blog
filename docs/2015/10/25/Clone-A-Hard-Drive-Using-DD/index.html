<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Clone a Hard Drive Using DD | My Inner Daemons</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="description">
<meta property="og:type" content="article">
<meta property="og:title" content="Clone a Hard Drive Using DD">
<meta property="og:url" content="http://blog.milesmaddox.com/2015/10/25/Clone-A-Hard-Drive-Using-DD/index.html">
<meta property="og:site_name" content="My Inner Daemons">
<meta property="og:description" content="description">
<meta property="og:updated_time" content="2016-11-01T15:00:41.444Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Clone a Hard Drive Using DD">
<meta name="twitter:description" content="description">
  
    <link rel="alternative" href="/atom.xml" title="My Inner Daemons" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-68541029-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <div id="logo-wrap"></div>
      <a href="/" id="logo">My Inner Daemons</a>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Notes from an SRE</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">home</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.milesmaddox.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Clone-A-Hard-Drive-Using-DD" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/25/Clone-A-Hard-Drive-Using-DD/" class="article-date">
  <time datetime="2015-10-25T05:00:00.000Z" itemprop="datePublished">2015-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/walkthrough/">walkthrough</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Clone a Hard Drive Using DD
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>With the ever decreasing price on storage it is becoming increasingly common to upgrade hard drives to something a little faster or a little bigger. I, myself, am making a jump from a 500GB 7200RPM HDD to a 1TB SSD. Pretty excited about it. To emphasise my enthusiasm I decided to crank out a quick article on the technical side of the migration.<br><a id="more"></a><br>It’s a small project but still falls into basic project planning practice. </p>
<p><strong>Functional Requirements</strong></p>
<ul>
<li>Data integrity - Ensure that data is not missing or corrupt</li>
<li>Compatibility - Other than speed and space, there shouldn’t be a noticable difference after swapping hard drives</li>
</ul>
<p><strong>Non-Functional Requirements</strong></p>
<ul>
<li>Migration is complete in a timely manner</li>
</ul>
<h3 id="The-How"><a href="#The-How" class="headerlink" title="The How"></a>The How</h3><p>Using <code>dd</code> is convenient because it’ll clone every single byte. It’s important though to be cognizant of the fact that every byte being migrated is in jeopardy of becoming corrupt if the data is in use. To prevent this, make sure the drives aren’t mounted first (step 2). </p>
<p>The <code>if</code> and <code>of</code> options from <code>dd</code> determine the input and output, respectively, of the data to be copied. </p>
<p>The <code>bs</code> option of <code>dd</code> determines how many bytes of data to migrate at a time. Bumping this will help improve the overall speed but reduces the granularity of each chunk migrated.</p>
<p>Note that we’re going to copy the entire drive and not each partition individually (<code>/dev/sda1</code> for example). Copying the drives will migrate the partitions for us.</p>
<ol>
<li><p>Use <code>fdisk</code> to identify your old and new drives.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo fdisk <span class="_">-l</span></div></pre></td></tr></table></figure>
</li>
<li><p>Unmount the drives you’re working with <code>umount</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo umount /dev/sda</div><div class="line">sudo umount /dev/sdb</div></pre></td></tr></table></figure>
</li>
<li><p>Perform the migration with <code>dd</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dd <span class="keyword">if</span>=/dev/sda of=/dev/sdb bs=32M</div></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.milesmaddox.com/2015/10/25/Clone-A-Hard-Drive-Using-DD/" data-id="ciuzmhq6d0001pqqdvq165s6v" class="article-share-link">Share</a>
      
        <a href="http://blog.milesmaddox.com/2015/10/25/Clone-A-Hard-Drive-Using-DD/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/10/31/Docker_Shutdown_Hooks/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Docker Shutdown Hooks
        
      </div>
    </a>
  
  
    <a href="/2015/10/25/chrome-extension-example/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Chrome Extension Example</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/31/Docker_Shutdown_Hooks/">Docker Shutdown Hooks</a>
          </li>
        
          <li>
            <a href="/2015/10/25/Clone-A-Hard-Drive-Using-DD/">Clone a Hard Drive Using DD</a>
          </li>
        
          <li>
            <a href="/2015/10/25/chrome-extension-example/">Chrome Extension Example</a>
          </li>
        
          <li>
            <a href="/2015/10/13/Deploying-Hubot-to-AWS-Elastic-Beanstalk/">Deploying Hubot to AWS Elastic Beanstalk</a>
          </li>
        
          <li>
            <a href="/2015/10/08/install-scripts/">Collection of Install Scripts</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/devops/">devops</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/software/">software</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/uncategorized/">uncategorized</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/walkthrough/">walkthrough</a><span class="category-list-count">4</span></li></ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Miles Maddox<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">home</a>
  
</nav>
    
<script>
  var disqus_shortname = 'milesmaddox';
  
  var disqus_url = 'http://blog.milesmaddox.com/2015/10/25/Clone-A-Hard-Drive-Using-DD/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>